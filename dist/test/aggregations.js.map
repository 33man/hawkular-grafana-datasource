{"version":3,"sources":["../../src/aggregations.js"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;;;IAEa,Y,WAAA,Y;AAEX,0BAAc;AAAA;AAAE;;;;uBAEb,U,EAAY,C,EAAG;AAChB,UAAI,WAAW,MAAX,IAAqB,CAAzB,EAA4B;AAC1B,eAAO,UAAP;AACD;AACD;AACA;AACA;AACA,aAAO,CAAC,WAAW,CAAX,CAAD,CAAP;AACD;;;wBAEG,M,EAAQ;AACV,UAAI,OAAO,MAAP,KAAkB,CAAtB,EAAyB;AACvB,eAAO,IAAP;AACD;AACD,aAAO,OAAO,MAAP,CAAc,UAAC,CAAD,EAAG,CAAH;AAAA,eAAS,IAAE,CAAX;AAAA,OAAd,CAAP;AACD;;;4BAEO,M,EAAQ;AACd,UAAI,OAAO,MAAP,KAAkB,CAAtB,EAAyB;AACvB,eAAO,IAAP;AACD;AACD,aAAO,OAAO,MAAP,CAAc,UAAC,CAAD,EAAG,CAAH;AAAA,eAAS,IAAE,CAAX;AAAA,OAAd,IAA8B,OAAO,MAA5C;AACD;;;wBAEG,M,EAAQ;AACV,UAAI,OAAO,MAAP,KAAkB,CAAtB,EAAyB;AACvB,eAAO,IAAP;AACD;AACD,aAAO,OAAO,MAAP,CAAc,UAAC,CAAD,EAAG,CAAH;AAAA,eAAS,IAAE,CAAF,GAAI,CAAJ,GAAM,CAAf;AAAA,OAAd,CAAP;AACD;;;wBAEG,M,EAAQ;AACV,UAAI,OAAO,MAAP,KAAkB,CAAtB,EAAyB;AACvB,eAAO,IAAP;AACD;AACD,aAAO,OAAO,MAAP,CAAc,UAAC,CAAD,EAAG,CAAH;AAAA,eAAS,IAAE,CAAF,GAAI,CAAJ,GAAM,CAAf;AAAA,OAAd,CAAP;AACD","file":"aggregations.js","sourcesContent":["import _ from \"lodash\";\n\nexport class Aggregations {\n\n  constructor() {}\n\n  on(timeSeries, f) {\n    if (timeSeries.length <= 1) {\n      return timeSeries;\n    }\n    // TODO: iterate over timestamps with interpolation when necessary\n    // It can be very time-consuming if there's too much data\n    // Does hawkular-metrics do it?\n    return [timeSeries[0]];\n  }\n\n  sum(values) {\n    if (values.length === 0) {\n      return null;\n    }\n    return values.reduce((a,b) => a+b);\n  }\n\n  average(values) {\n    if (values.length === 0) {\n      return null;\n    }\n    return values.reduce((a,b) => a+b) / values.length;\n  }\n\n  min(values) {\n    if (values.length === 0) {\n      return null;\n    }\n    return values.reduce((a,b) => a<b?a:b);\n  }\n\n  max(values) {\n    if (values.length === 0) {\n      return null;\n    }\n    return values.reduce((a,b) => a>b?a:b);\n  }\n}\n"]}